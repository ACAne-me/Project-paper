{"remainingRequest":"G:\\biyesheji\\front\\front\\node_modules\\babel-loader\\lib\\index.js!G:\\biyesheji\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\biyesheji\\front\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\biyesheji\\front\\front\\src\\pages\\shop-cart\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\biyesheji\\front\\front\\src\\pages\\shop-cart\\list.vue","mtime":1716882222390},{"path":"G:\\biyesheji\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\biyesheji\\front\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"G:\\biyesheji\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\biyesheji\\front\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGNvbmZpZyBmcm9tICdAL2NvbmZpZy9jb25maWcnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJhc2VVcmw6IGNvbmZpZy5iYXNlVXJsLAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICBzZWxSb3dzOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldENhcnRMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShlKSB7CiAgICAgIHRoaXMuc2VsUm93cyA9IGU7CiAgICB9LAogICAgZ2V0Q2FydExpc3Q6IGZ1bmN0aW9uIGdldENhcnRMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kaHR0cC5nZXQoJ2NhcnQvbGlzdCcsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHBhZ2U6IDEsCiAgICAgICAgICBsaW1pdDogMTAwMCwKICAgICAgICAgIHVzZXJpZDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Zyb250VXNlcmlkJykKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDApIHsKICAgICAgICAgIF90aGlzLnRhYmxlRGF0YSA9IHJlcy5kYXRhLmRhdGEubGlzdDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKHZhbHVlLCBpbmRleCwgcm93KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kaHR0cC5nZXQoIiIuY29uY2F0KHJvdy50YWJsZW5hbWUsICIvZGV0YWlsLyIpLmNvbmNhdChyb3cuZ29vZGlkKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMCkgewogICAgICAgICAgaWYgKHJlcy5kYXRhLmRhdGEub25lbGltaXR0aW1lcyAmJiByZXMuZGF0YS5kYXRhLm9uZWxpbWl0dGltZXMgPiAwKSB7CiAgICAgICAgICAgIGlmICh2YWx1ZSA+IHJlcy5kYXRhLmRhdGEub25lbGltaXR0aW1lcykgewogICAgICAgICAgICAgIF90aGlzMi50YWJsZURhdGFbaW5kZXhdLmJ1eW51bWJlciA9IC0tdmFsdWU7CgogICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcigiXHU2QkNGXHU0RUJBXHU1MzU1XHU2QjIxXHU1M0VBXHU4MEZEXHU4RDJEXHU0RTcwIi5jb25jYXQocmVzLmRhdGEuZGF0YS5vbmVsaW1pdHRpbWVzLCAiXHU0RUY2IikpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJvdy5idXludW1iZXIgPSB2YWx1ZTsKCiAgICAgICAgICAgICAgX3RoaXMyLiRodHRwLnBvc3QoJ2NhcnQvdXBkYXRlJywgcm93KS50aGVuKGZ1bmN0aW9uIChyZXMpIHt9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcm93LmJ1eW51bWJlciA9IHZhbHVlOwoKICAgICAgICAgICAgX3RoaXMyLiRodHRwLnBvc3QoJ2NhcnQvdXBkYXRlJywgcm93KS50aGVuKGZ1bmN0aW9uIChyZXMpIHt9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZURlbGV0ZTogZnVuY3Rpb24gaGFuZGxlRGVsZXRlKGluZGV4LCByb3cpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCfmmK/lkKbnoa7orqTliKDpmaQ/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBkZWxJZHMgPSBuZXcgQXJyYXkoKTsKICAgICAgICBkZWxJZHMucHVzaChyb3cuaWQpOwoKICAgICAgICBfdGhpczMuJGh0dHAucG9zdCgnY2FydC9kZWxldGUnLCBkZWxJZHMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMCkgewogICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfIScsCiAgICAgICAgICAgICAgZHVyYXRpb246IDE1MDAsCiAgICAgICAgICAgICAgb25DbG9zZTogZnVuY3Rpb24gb25DbG9zZSgpIHsKICAgICAgICAgICAgICAgIF90aGlzMy5nZXRDYXJ0TGlzdCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGJ1eUNsaWNrOiBmdW5jdGlvbiBidXlDbGljaygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBpZiAodGhpcy5zZWxSb3dzLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup5ZWG5ZOBJywKICAgICAgICAgIGR1cmF0aW9uOiAxNTAwCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgZ24gPSAiIjsKCiAgICAgIGZvciAodmFyIHggaW4gdGhpcy5zZWxSb3dzKSB7CiAgICAgICAgdmFyIGcgPSB0aGlzLnNlbFJvd3NbeF07CiAgICAgICAgY29uc29sZS5sb2coZy5nb29kbmFtZSk7CiAgICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICAgIHRoaXMuJGh0dHAuZ2V0KCIiLmNvbmNhdChnLnRhYmxlbmFtZSwgIi9kZXRhaWwvIikuY29uY2F0KGcuZ29vZGlkKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAwICYmIGcuYnV5bnVtYmVyID4gcmVzLmRhdGEuZGF0YS5hbGxsaW1pdHRpbWVzKSB7CiAgICAgICAgICAgIGduID0gZy5nb29kbmFtZTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKGduID09ICIiKSB7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnb3JkZXJHb29kcycsIEpTT04uc3RyaW5naWZ5KF90aGlzNC5zZWxSb3dzKSk7CgogICAgICAgICAgX3RoaXM0LiRyb3V0ZXIucHVzaCgnL2luZGV4L3Nob3Atb3JkZXIvb3JkZXJDb25maXJtJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5lcnJvcihnbiArICIgXHU1RTkzXHU1QjU4XHU0RTBEXHU4REIzIik7CgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfSwgMjAwKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICB0b3RhbFByaWNlOiBmdW5jdGlvbiB0b3RhbFByaWNlKCkgewogICAgICB2YXIgdG90YWxQcmljZSA9IDA7CgogICAgICBmb3IgKHZhciB4IGluIHRoaXMuc2VsUm93cykgewogICAgICAgIHRvdGFsUHJpY2UgKz0gTnVtYmVyKHRoaXMuc2VsUm93c1t4XS5wcmljZSkgKiBOdW1iZXIodGhpcy5zZWxSb3dzW3hdLmJ1eW51bWJlcik7CiAgICAgIH0KCiAgICAgIHJldHVybiB0b3RhbFByaWNlLnRvRml4ZWQoMik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["list.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n<div :style='{\"width\":\"100%\",\"padding\":\"20px 10%\",\"margin\":\"30px auto\",\"position\":\"relative\"}'>\r\n    <div class=\"section-title\" :style='{\"margin\":\"20px 0\",\"color\":\"#333\",\"textAlign\":\"center\",\"display\":\"block\",\"width\":\"100%\",\"fontSize\":\"20px\",\"lineHeight\":\"54px\"}'>购物车</div>\r\n    <el-table\r\n      @selection-change=\"handleSelectionChange\"\r\n      :data=\"tableData\"\r\n      style=\"width: 100%\">\r\n      <el-table-column type=\"selection\" width=\"50\" align=\"center\" />\r\n      <el-table-column\r\n        label=\"商品名称\">\r\n        <template slot-scope=\"scope\">\r\n          <div class=\"shangpin\">\r\n            <el-image\r\n              style=\"width: 100px; height: 100px\"\r\n              :src=\"baseUrl + scope.row.picture\"\r\n              fit=\"fill\"></el-image>\r\n            <span style=\"margin-left: 10px\">{{ scope.row.goodname }}</span>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"价格\">\r\n        <template slot-scope=\"scope\">\r\n          <span :style='{\"fontSize\":\"12px\"}'>￥</span>{{ scope.row.price }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"数量\">\r\n        <template slot-scope=\"scope\">\r\n          <el-input-number :min=\"1\" v-model=\"scope.row.buynumber\" @change=\"(value) => handleChange(value, scope.$index, scope.row)\" size=\"small\"></el-input-number>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"总价\">\r\n        <template slot-scope=\"scope\">\r\n          <span :style='{\"fontSize\":\"12px\"}'>￥</span>{{ (scope.row.price * scope.row.buynumber).toFixed(2) }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" width=\"150\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"danger\"\r\n            @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div class=\"buy\" v-if=\"tableData.length > 0\">\r\n      <span style=\"color: red;margin-right: 10px;font-weight: 700;\">总价：<span :style='{\"fontSize\":\"12px\"}'>￥</span>{{totalPrice}}</span>\r\n      <el-button\r\n        type=\"warning\"\r\n        @click=\"buyClick\">点击购买</el-button>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n  import config from '@/config/config'\r\n  export default {\r\n    data() {\r\n      return {\r\n        baseUrl: config.baseUrl,\r\n        tableData: [],\r\n        selRows:[]\r\n      }\r\n    },\r\n    created() {\r\n      this.getCartList();\r\n    },\r\n    methods: {\r\n      handleSelectionChange(e){\r\n          this.selRows = e\r\n      },\r\n      getCartList() {\r\n        this.$http.get('cart/list', {params: {page: 1, limit: 1000, userid: localStorage.getItem('frontUserid')}}).then(res => {\r\n          if (res.data.code == 0) {\r\n            this.tableData = res.data.data.list;\r\n          }\r\n        });\r\n      },\r\n      handleChange(value, index, row) {\r\n        this.$http.get(`${row.tablename}/detail/${row.goodid}`).then(res => {\r\n          if (res.data.code == 0) {\r\n            if (res.data.data.onelimittimes&&res.data.data.onelimittimes > 0) {\r\n                if (value > res.data.data.onelimittimes) {\r\n                    this.tableData[index].buynumber = --value;\r\n                    this.$message.error(`每人单次只能购买${res.data.data.onelimittimes}件`);\r\n                } else {\r\n                    row.buynumber = value;\r\n                    this.$http.post('cart/update', row).then(res => {});\r\n                }\r\n            } else {\r\n                row.buynumber = value;\r\n                this.$http.post('cart/update', row).then(res => {});\r\n            }\r\n          }\r\n        });\r\n      },\r\n      handleDelete(index, row) {\r\n        this.$confirm('是否确认删除?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          let delIds = new Array();\r\n          delIds.push(row.id);\r\n          this.$http.post('cart/delete', delIds).then(res => {\r\n            if (res.data.code == 0) {\r\n              this.$message({\r\n                type: 'success',\r\n                message: '删除成功!',\r\n                duration: 1500,\r\n                onClose: () => {\r\n                  this.getCartList();\r\n                }\r\n              });\r\n            }\r\n          });\r\n        });\r\n      },\r\n      buyClick() {\r\n        if(this.selRows.length==0) {\r\n            this.$message({\r\n                type: 'warning',\r\n                message: '请选择商品',\r\n                duration: 1500,\r\n            });\r\n            return\r\n        }\r\n        var gn = \"\";\r\n        for(let x in this.selRows){\r\n            var g = this.selRows[x];\r\n            console.log(g.goodname)\r\n            let that = this;\r\n            this.$http.get(`${g.tablename}/detail/${g.goodid}`).then(res => {\r\n              if (res.data.code == 0 && g.buynumber > res.data.data.alllimittimes) {\r\n                gn = g.goodname;\r\n              }\r\n            });\r\n        }\r\n        \r\n        setTimeout(() => {\r\n            if(gn==\"\") {\r\n                localStorage.setItem('orderGoods', JSON.stringify(this.selRows));\r\n                this.$router.push('/index/shop-order/orderConfirm');\r\n            } else {\r\n                this.$message.error(gn+` 库存不足`);\r\n                return;\r\n            }\r\n        }, 200)\r\n      }\r\n    },\r\n    computed: {\r\n      totalPrice() {\r\n            let totalPrice = 0;\r\n            for(let x in this.selRows){\r\n                  totalPrice += Number(this.selRows[x].price) * Number(this.selRows[x].buynumber)\r\n            }\r\n            return totalPrice.toFixed(2);\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\r\n  .section {\r\n    width: 900px;\r\n    margin: 0 auto;\r\n  }\r\n\r\n  .shangpin {\r\n    display: flex;\r\n  }\r\n  .buy {\r\n    text-align: right;\r\n    padding-right: 82px;\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/pages/shop-cart"}]}